let products = [{
            id: 1,
            img: "ao/nam/nam-Ao thun the thao Bacchus den 175k.jpg",
            name: "Áo thun thể thao nam Bacchus đen ",
            priceOld: 175000,
            priceNew: 175000,
            inCart: 0
        },
        {
            id: 2,
            img: "hinh/H31276-1_1024x1024@2x.jpg",
            name: "Áo thun nam Adidas 3 Stripe Spilit ",
            priceOld: 750000,
            priceNew: 750000,
            inCart: 0
        },
        {
            id: 3,
            img: "hinh/col_copy_672x990.jpg",
            name: "Áo thể thao nam MaxCool - Coolmate ",
            priceOld: 220000,
            priceNew: 220000,
            inCart: 0
        },
        {
            id: 4,
            img: "hinh/AR5061-063-510x510-1.jpg",
            name: "Áo Sportwear Nike nam AR5061 - 063 ",
            priceOld: 930000,
            priceNew: 930000,
            inCart: 0
        },
        {
            id: 5,
            img: "https://cf.shopee.vn/file/4853127e24d034d0a136d507a719c3fc",
            name: "Áo thun Nike câu lạc bộ Liverpool ",
            priceOld: 800000,
            priceNew: 800000,
            inCart: 0
        },
        {
            id: 6,
            img: "https://dothethao.net.vn/wp-content/uploads/2019/11/tong-hop-ao-bong-da-cac-doi-tuyen-quoc-gia-euro-2020-2.jpg",
            name: "Áo thun Adidas quốc gia Bỉ ",
            priceOld: 800000,
            priceNew: 800000,
            inCart: 0
        },
        {
            id: 7,
            img: "ao/nam/nam-Apollo xam 175k.jpg",
            name: "Áo nam Apollo xám ",
            priceOld: 175000,
            priceNew: 175000,
            inCart: 0
        },
        {
            id: 8,
            img: "ao/nam/nam-Ao thung the thao Ceres do 175k.jpg",
            name: "Áo thun thể thao nam Ceres đỏ ",
            priceOld: 175000,
            priceNew: 175000,
            inCart: 0
        },
        {
            id: 9,
            img: "https://product.hstatic.net/200000378371/product/upload_317491cc27854193b0c70f6721e52231.jpg",
            name: "Quần gió nam 361 ",
            priceOld: 750000,
            priceNew: 750000,
            inCart: 0
        },
        {
            id: 10,
            img: "quan/Nam/nam-short training tap GYM Nam 360s 200k.jpg",
            name: "Quần short nam Training Gym 360s ",
            priceOld: 200000,
            priceNew: 200000,
            inCart: 0
        },
        {
            id: 11,
            img: "quan/Nam/nam-Sweatpants Joggers 250k.jpg",
            name: "Quần nam Sweatpaints Joggers",
            priceOld: 250000,
            priceNew: 250000,
            inCart: 0
        },
        {
            id: 12,
            img: "quan/Nam/nam-shorts gym nam 200k.jpg",
            name: "Quần short nam tập Gym ",
            priceOld: 200000,
            priceNew: 200000,
            inCart: 0
        },
        {
            id: 13,
            img: "quan/Nam/nam-Hummal HYPER Gray Joggers pants for MEN 180k.jpg",
            name: "Quần nam Hyper Gray Joggers ",
            priceOld: 180000,
            priceNew: 180000,
            inCart: 0
        },
        {
            id: 14,
            img: "quan/Nam/nam-jogger the thao nam 360s 250k.jpg",
            name: "Quần Jogger nam 360s ",
            priceOld: 250000,
            priceNew: 250000,
            inCart: 0
        },
        {
            id: 15,
            img: "https://cf.shopee.vn/file/76d28a1847cb14888fb29e0bd69312d1",
            name: "Quần dài thể thao nam Adidas H13505 ",
            priceOld: 510000,
            priceNew: 510000,
            inCart: 0
        },
        {
            id: 16,
            img: "https://cf.shopee.vn/file/dad7591d443166df045dbb532f678ef9",
            name: "Quần short nam Nike 5 inch Challenger ",
            priceOld: 200000,
            priceNew: 200000,
            inCart: 0
        },
        {
            id: 17,
            img: "hinh/H04589-1_110x110@2x.jpg",
            name: "Giày nam Adidas Fluidflow 2.0 ",
            priceOld: 1680000,
            priceNew: 1680000,
            inCart: 0
        },
        {
            id: 18,
            img: "hinh/giay-running-nike-nam-bq9646-005-1_f6c89071c2e94e589b6487f83c1c5d02_master.jpg",
            name: "Giày Running Nike nam BQ9646 ",
            priceOld: 1000000,
            priceNew: 1000000,
            inCart: 0
        },
        {
            id: 19,
            img: "giay/nam/Giày thể thao SNEAKER BN0097 399k.jpg",
            name: "Giày thể thao Sneaker BN0097 ",
            priceOld: 399000,
            priceNew: 399000,
            inCart: 0
        },
        {
            id: 20,
            img: "giay/nam/Giày da nam 399k.jpg",
            name: "Giày da nam (Local brand)",
            priceOld: 399000,
            priceNew: 399000,
            inCart: 0
        },
        {
            id: 21,
            img: "giay/nam/Giày thể thao NAm hót 2021 300k.jpg",
            name: "Giày thể thao nam 2021 ",
            priceOld: 300000,
            priceNew: 300000,
            inCart: 0
        },
        {
            id: 22,
            img: "giay/nam/Giày SNEAKER NAM 149k.jpg",
            name: "Giày thể thao Sneaker nam ",
            priceOld: 149000,
            priceNew: 149000,
            inCart: 0
        },
        {
            id: 23,
            img: "giay/nam/giày SNEAKER NAM BN108.jpg",
            name: "Giày thể thao Sneaker BN108 ",
            priceOld: 850000,
            priceNew: 850000,
            inCart: 0
        },
        {
            id: 24,
            img: "https://product.hstatic.net/200000171979/product/831970-616_ecd306d283d84873bd6d7b0fa60b1e3e_master.jpg",
            name: "Giày bóng đá nam Nike- 831970 ",
            priceOld: 850000,
            priceNew: 850000,
            inCart: 0
        }
    ]
    //array nu
let productsGirl = [{
            id: 25,
            img: "hinh/ALAYNA-AO-THUN-THE-THAO-NU-NGAN-TAY-3.png",
            name: "Áo thun nữ ngắn tay Alayna ",
            priceOld: 230000,
            priceNew: 230000,
            inCart: 0
        },
        {
            id: 26,
            img: "ao/nu/nu-360s Shine 150k.jpg",
            name: "Áo nữ Shine 360s ",
            priceOld: 150000,
            priceNew: 150000,
            inCart: 0
        },
        {
            id: 27,
            img: "ao/nu/nu-Bra 360 Motion 170k.jpg",
            name: "Áo Bra 360 Motion ",
            priceOld: 170000,
            priceNew: 170000,
            inCart: 0
        },
        {
            id: 28,
            img: "https://cf.shopee.vn/file/89ed5d8d604ba2b61edb58409fbf3b4c",
            name: "Áo cầu lông nữ Lining 1782 ",
            priceOld: 140000,
            priceNew: 140000,
            inCart: 0
        },
        {
            id: 29,
            img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQC75M5iLbjgFvcmpqHrlUvHf5wTy0VV_4S7g&usqp=CAU",
            name: "Áo bóng chuyền nữ TP Sport ",
            priceOld: 200000,
            priceNew: 200000,
            inCart: 0
        },
        {
            id: 30,
            img: "https://bizweb.dktcdn.net/100/239/277/products/ao-the-thao-nu-dunlop-dabas9087-2-gm-01.jpg?v=1609210162403",
            name: "Áo thể thao nữ Dunlop DABAS9087 ",
            priceOld: 330000,
            priceNew: 330000,
            inCart: 0
        },
        {
            id: 31,
            img: "https://cf.shopee.vn/file/a32eb4eeda9a4e7d62efb6fe37ebba28",
            name: "Áo bóng bàn nữ Xiom Jay 9 ",
            priceOld: 700000,
            priceNew: 700000,
            inCart: 0
        },
        {
            id: 32,
            img: "https://golfgroup.com.vn/wp-content/uploads/2020/12/ao-golf-nu-nike-dry-polo-ss-725582-100-1.jpeg",
            name: "Áo golf nữ Nike Dry Polo SS ",
            priceOld: 1200000,
            priceNew: 1200000,
            inCart: 0
        },
        {
            id: 33,
            img: "https://product.hstatic.net/200000078815/product/ei4738_06_c46f953cfb5c4920b51eb237d36583c8_master.jpg",
            name: "Quần bó nữ Adidas E14738",
            priceOld: 375000,
            priceNew: 375000,
            inCart: 0
        },
        {
            id: 34,
            img: "quan/Nu/nu-legging 360s Meshed 225k.jpg",
            name: "Quần nữ legging 360s Meshed",
            priceOld: 225000,
            priceNew: 225000,
            inCart: 0
        },
        {
            id: 35,
            img: "quan/Nu/nu-legging 360s Tulle Mesh 170k.jpg",
            name: "Quần nữ legging 360s Tulle Mesh",
            priceOld: 170000,
            priceNew: 170000,
            inCart: 0
        },
        {
            id: 36,
            img: "quan/Nu/nu-Short 360s Super Curl hong 150k.jpg",
            name: "Quần short nữ Super Curl hồng 360s",
            priceOld: 150000,
            priceNew: 150000,
            inCart: 0
        },
        {
            id: 37,
            img: "https://product.hstatic.net/1000312752/product/aklqa68-1-_4__a8e264ec19d44f11bad0ceb84aec8a88_master.jpg",
            name: "Quần gió thể thao nữ Li- ning",
            priceOld: 620000,
            priceNew: 620000,
            inCart: 0
        },
        {
            id: 38,
            img: "https://product.hstatic.net/200000100181/product/z2036609364650_021526d2e39b5dcf7176b7349d147f2d_e1cb39a69c254b00af17fc5d2c55ce90_large.jpg",
            name: "Quần nỉ thể thao nữ Adidas",
            priceOld: 1200000,
            priceNew: 1200000,
            inCart: 0
        },
        {
            id: 39,
            img: "https://bumshop.com.vn/wp-content/uploads/2019/08/qkt04-quan-jogger-tui-hop-nu-xanh-den-1.jpg",
            name: "Quần jogger túi hộp nữ- QKT04",
            priceOld: 260000,
            priceNew: 260000,
            inCart: 0
        },
        {
            id: 40,
            img: "https://assets.adidas.com/images/h_840,f_auto,q_auto:sensitive,fl_lossy,c_fill,g_auto/a7a2c64f8db64f04a7d9aa78000e0e58_9366/Quan_Short_Chay_Bo_DJen_FR8375_01_laydown.jpg",
            name: "Quần short nữ chạy bộ",
            priceOld: 510000,
            priceNew: 510000,
            inCart: 0
        },
        {
            id: 41,
            img: "hinh/CW3398-002-1_110x110@2x.jpg",
            name: "Giày nữ Nike Air Max Bella Tr 4",
            priceOld: 1870000,
            priceNew: 1870000,
            inCart: 0
        },
        {
            id: 42,
            img: "giay/nu/Giày thể thao nữ BN0011 389k.jpg",
            name: "Giày nữ BN0011",
            priceOld: 389000,
            priceNew: 389000,
            inCart: 0
        },
        {
            id: 43,
            img: "giay/nu/Giày thể thao nữ BN0198 269k.jpg",
            name: "Giày nữ BN0198",
            priceOld: 269000,
            priceNew: 269000,
            inCart: 0
        },
        {
            id: 44,
            img: "giay/nu/Giày Lưới Nữ thể thảo 400k.jpg",
            name: "Giày lưới nữ thể thao",
            priceOld: 400000,
            priceNew: 400000,
            inCart: 0
        },
        {
            id: 45,
            img: "http://scontent.webpluscnd.net/photos-df/a-0/13080-2215403-1/giay-the-thao-nike-nu.png?atk=e143fe804eae05e0bd2608b8abf9afb0",
            name: "Giày thể thao Nike nữ",
            priceOld: 290000,
            priceNew: 290000,
            inCart: 0
        },
        {
            id: 46,
            img: "https://cdn.vuahanghieu.com/unsafe/0x900/left/top/smart/filters:quality(90)/https://admin.vuahanghieu.com/upload/product/2021/12/giay-the-thao-nu-adidas-falconrun-2-0-shoes-fz1327-mau-hong-61af30865d010-07122021165934.jpg",
            name: "Giày nữ Adidas Falconrun 2.0",
            priceOld: 1250000,
            priceNew: 1250000,
            inCart: 0
        },
        {
            id: 47,
            img: "giay/nu/Mẫu Giày nữ hót 2021-249k.jpg",
            name: "Giày nữ 2021",
            priceOld: 249000,
            priceNew: 249000,
            inCart: 0
        },
        {
            id: 48,
            img: "https://cdn.shopify.com/s/files/1/0456/5070/6581/products/374011_04-1_720x@2x.jpg?v=1610098534",
            name: "Giày nữ Puma RS 2.0 Future",
            priceOld: 1800000,
            priceNew: 1800000,
            inCart: 0
        },
    ]
    //array dung cu the thao
let productItem = [{
            id: 49,
            img: "dung cu the thao/tham-360s-venus-2-lop-6mm-tim-6-300k.jpg",
            name: "Thảm Yoga Venus tím 2 lớp- 6mm",
            priceOld: 300000,
            priceNew: 300000,
            inCart: 0
        },
        {
            id: 50,
            img: "dung cu the thao/băng gối dán tập gym PAVO AV 432k.jpg",
            name: "Băng gối dán tập Gym Pavo AV",
            priceOld: 432000,
            priceNew: 432000,
            inCart: 0
        },
        {
            id: 51,
            img: "dung cu the thao/Bong tap Yoga Aerobic Brosman Gymball 399k.jpg",
            name: "Bóng tập Yoga Aerobic Brosman",
            priceOld: 399000,
            priceNew: 399000,
            inCart: 0
        },
        {
            id: 52,
            img: "hinh/xe-dap-tap-the-duc-spin-bike-mk207.jpg",
            name: "Xe đạp tập thể dục spin- bike MK207",
            priceOld: 3490000,
            priceNew: 3490000,
            inCart: 0
        },
        {
            id: 53,
            img: "https://cuonggym.com/wp-content/uploads/2019/03/ta-tay-Jordan-nhap-khau.jpg",
            name: "Tạ tay Jordan nhập khẩu",
            priceOld: 100000,
            priceNew: 100000,
            inCart: 0
        },
        {
            id: 54,
            img: "hinh/kem-tap-the-luc-reebok-rawt-11035cy1.jpg",
            name: "Kèm tập thể lực Reebok-Rawt",
            priceOld: 237000,
            priceNew: 237000,
            inCart: 0
        },
        {
            id: 55,
            img: "https://product.hstatic.net/1000379968/product/thiet-ke-khung-ganh-ta-k8_6995fdcc45d14a6cb667a4102806490b.jpg",
            name: "Giàn tập tạ đa năng Thiên trường K8",
            priceOld: 13690000,
            priceNew: 13690000,
            inCart: 0
        },
        {
            id: 56,
            img: "https://www.thethaodaiviet.vn/images/upload/Image/ghe-tap-ta-dv-606-1602467427607.jpg",
            name: "Ghế tập tạ đa năng DV 606",
            priceOld: 1150000,
            priceNew: 1150000,
            inCart: 0
        },
        {
            id: 57,
            img: "https://salt.tikicdn.com/ts/tmp/37/20/c5/4e1beeca541ed551bdbb0d14857c14ea.jpg",
            name: "Quả bóng đá cup C1 2020",
            priceOld: 260000,
            priceNew: 260000,
            inCart: 0
        },
        {
            id: 10,
            img: "https://luongsport.com/wp-content/uploads/2018/01/92547838_1127246840953336_3850077463740678144_n.jpg",
            name: "Vợt cầu lông Victor TK-999",
            priceOld: 1400000,
            priceNew: 1400000,
            inCart: 0
        },
        {
            id: 58,
            img: "https://www.sport9.vn/images/thumbs/boc/boc-ong-dong-adidas-x-youth-shin-guard_750_20001679_.jpeg",
            name: "Bọc ống đồng Adidas X Youth",
            priceOld: 600000,
            priceNew: 600000,
            inCart: 0
        },
        {
            id: 59,
            img: "https://bizweb.dktcdn.net/thumb/1024x1024/100/348/336/products/31-0.jpg?v=1628941304530",
            name: "Bóng chuyền da Động lực DL 200",
            priceOld: 140000,
            priceNew: 140000,
            inCart: 0
        },
        {
            id: 60,
            img: "http://tikicdn.com/media/catalog/product/i/m/img_3057.jpg",
            name: "Bộ ống cầu lông",
            priceOld: 125000,
            priceNew: 125000,
            inCart: 0
        },
        {
            id: 61,
            img: "https://product.hstatic.net/1000362402/product/abqe346-1-2_5e1f81653ced426989ee3835ca325d5d_cc337c2bfa654abaa72d0dd603affa51_master.jpg",
            name: "Quả bóng rổ Li - Ning ABEQ346",
            priceOld: 580000,
            priceNew: 580000,
            inCart: 0
        },
        {
            id: 62,
            img: "https://chiemtaimobile.vn/images/detailed/26/vot-bong-ban-and1__5_.jpg",
            name: "Vợt bóng bàn AND1YD606GP2",
            priceOld: 350000,
            priceNew: 350000,
            inCart: 0
        },
        {
            id: 63,
            img: "https://www.thethaothientruong.vn/uploads/contents/ban-bong-ban-vinasport-mdf-25-ly.jpg",
            name: "Bàn bóng bàn VinaSport MDF",
            priceOld: 3650000,
            priceNew: 3650000,
            inCart: 0
        }
    ]
    //array trang chu
let productMain = [{
        id: 64,
        img: "ao/nam/nam-Apollo xam 175k.jpg",
        name: "Áo thun Apollo xám nam",
        priceOld: 176000,
        priceNew: 175000,
        inCart: 0
    },
    {
        id: 65,
        img: "hinh/H31276-1_1024x1024@2x.jpg",
        name: "Áo thun nam Adidas 3 Stripe Spilit",
        priceOld: 749000,
        priceNew: 750000,
        inCart: 0
    },
    {
        id: 66,
        img: "hinh/col_copy_672x990.jpg",
        name: "Áo thể thao nam MaxCool - Coolmate",
        priceOld: 219000,
        priceNew: 220000,
        inCart: 0
    },
    {
        id: 67,
        img: "ao/nam/nam-Ao thun the thao Bacchus den 175k.jpg",
        name: "Áo thun thể thao nam Bacchus đen",
        priceOld: 176000,
        priceNew: 175000,
        inCart: 0
    },
    {
        id: 68,
        img: "quan/Nam/nam-short training tap GYM Nam 360s 200k.jpg",
        name: "Quần nam short-training tập Gym 360s",
        priceOld: 201000,
        priceNew: 200000,
        inCart: 0
    },
    {
        id: 69,
        img: "giay/nam/Giày thể thao SNEAKER BN0097 399k.jpg",
        name: "Giày Sneaker nam BN0097",
        priceOld: 391000,
        priceNew: 399000,
        inCart: 0
    },
    {
        id: 70,
        img: "quan/Nam/nam-Sweatpants Joggers 250k.jpg",
        name: "Quần nam Sweatpants Joggers",
        priceOld: 200000,
        priceNew: 250000,
        inCart: 0
    },
    {
        id: 71,
        img: "ao/nu/nu-360s Shine 150k.jpg",
        name: "Áo nữ Shine xám",
        priceOld: 174000,
        priceNew: 175000,
        inCart: 0
    },
    {
        id: 72,
        img: "ao/nu/nu-Bra 360 Motion 170k.jpg",
        name: "Áo nữ Bra 360 Motion",
        priceOld: 160000,
        priceNew: 170000,
        inCart: 0
    },
    {
        id: 73,
        img: "https://product.hstatic.net/200000100181/product/z2036609364650_021526d2e39b5dcf7176b7349d147f2d_e1cb39a69c254b00af17fc5d2c55ce90_large.jpg",
        name: "Quần nỉ thể thao nữ Adidas",
        priceOld: 1300000,
        priceNew: 1200000,
        inCart: 0
    },
    {
        id: 74,
        img: "giay/nu/Mẫu Giày nữ hót 2021-249k.jpg",
        name: "Giày Sneaker thường nữ",
        priceOld: 169000,
        priceNew: 149000,
        inCart: 0
    },
    {
        id: 75,
        img: "hinh/xe-dap-tap-the-duc-spin-bike-mk207.jpg",
        name: "Xe đạp tập thể dục spin-bike MK207",
        priceOld: 3500000,
        priceNew: 3490000,
        inCart: 0
    },
    {
        id: 76,
        img: "dung cu the thao/tham-360s-venus-2-lop-6mm-tim-6-300k.jpg",
        name: "Thảm yoga Venus tím 2 lớp - 6mm",
        priceOld: 320000,
        priceNew: 300000,
        inCart: 0
    },
    {
        id: 77,
        img: "dung cu the thao/băng gối dán tập gym PAVO AV 432k.jpg",
        name: "Băng gối dán tập Gym Pavo AV",
        priceOld: 444000,
        priceNew: 432000,
        inCart: 0
    },
    {
        id: 78,
        img: "hinh/kem-tap-the-luc-reebok-rawt-11035cy1.jpg",
        name: "Kềm tập thể lực Reebok- Rawt",
        priceOld: 247000,
        priceNew: 237000,
        inCart: 0
    }
];

//--------------------------------------------------------------------------------------------------------------------------------
//xuất sp ra khi tìm kiếm
function render(arr) {
    const renderProduct = arr.map(obj => {
        return ` <div class="product">
        <div class="product_img">
            <h1>
                <a href="#"><img src="${obj.img}" class="product-image"></a>
            </h1>
            <div class="product_info">
                <span>Xem chi tiết</span>
            </div>
        </div>
        <h3 class="product-name">${obj.name}</h3>
        <div class="product-price">
            <span class="price">
               ${obj.priceNew}VNĐ
           </span>
        </div>
        <h2><button class="addcartSearch">Thêm vào giỏ</button></h2>
    </div>
`
    })
    if (document.querySelector('.showitem')) {
        document.querySelector('.showitem').innerHTML = renderProduct.join('')
    }

}
//ẩn hết để hiện sp cần tìm
function searchProduct() {
    var search = document.querySelector('.search1')
    search.onclick = function() {
        var banner = document.querySelector('.hide')
        banner.classList.remove('active')
        var showItem = document.querySelector('.show')
        showItem.classList.add('active')
    }
}
// ---------------------------------------------------------------------------------------------------------------------------------------
//tim sp trong trang nam va them vo gio hang 
function valueProduct() {
    var valueSearch = document.querySelector('.search2').value

    if (valueSearch.length > 0) {
        searchProduct()
        var dateProduct1 = products.filter((obj) => {
            return obj.name.toUpperCase().includes(valueSearch.toUpperCase())
        })
        if (dateProduct1.length > 0) {
            render(dateProduct1)
        }
    }
    const carts = document.querySelectorAll('.addcartSearch'); //tao mang carts va luu vo no nhung co class la .addcartSearch
    console.log(carts);
    for (let i = 0; i < carts.length; i++) {
        carts[i].addEventListener('click', () => { //khi nhan click vo cai mang do thi va chay th function
            if (localStorage.getItem('name')) {
                cartNumbers(dateProduct1[i]);

                totalCost(dateProduct1[i]);
                alert("Sản phẩm đã được thêm vào giỏ hàng");
            } else {
                alert("Mời bạn đăng nhập trước khi mua hàng");
            }
        })
    }
    onLoadCartNumbers();
    displayCart();
}
// -----------------------------------------------------------------------------------------------------------------------------------
// tim sp trong trang chu và thêm vô giỏ
function valueProductMain() {
    var valueSearch = document.querySelector('.search2').value
    if (valueSearch.length > 0) {
        searchProduct()
        var dateProduct1 = productMain.filter((obj) => {
            return obj.name.toUpperCase().includes(valueSearch.toUpperCase())
        })
        if (dateProduct1.length > 0) {
            render(dateProduct1)
        }
    }
    const carts = document.querySelectorAll('.addcartSearch'); //tao mang carts va luu vo no nhung co class la .addcartSearch
    console.log(carts);
    for (let i = 0; i < carts.length; i++) {
        carts[i].addEventListener('click', () => { //khi nhan click vo cai mang do thi va chay th function
            if (localStorage.getItem('name')) {
                cartNumbers(dateProduct1[i]);

                totalCost(dateProduct1[i]);
                alert("Sản phẩm đã được thêm vô giỏ");
            } else {
                alert("Mời bạn đăng nhập trước khi mua hàng");
            }

        })
    }



    onLoadCartNumbers();
    displayCart();
}
// ----------------------------------------------------------------------------------------------------------------------------------------
// tim sp trong trang nu va them vo gio hang
function valueProductGirl() {
    var valueSearch = document.querySelector('.search2').value
    if (valueSearch.length > 0) {
        searchProduct()
        var dateProduct1 = productsGirl.filter((obj) => {
            return obj.name.toUpperCase().includes(valueSearch.toUpperCase())
        })
        if (dateProduct1.length > 0) {
            render(dateProduct1)
        }
    }
    const carts = document.querySelectorAll('.addcartSearch'); //tao mang carts va luu vo no nhung co class la .addcartSearch
    console.log(carts);
    for (let i = 0; i < carts.length; i++) {
        carts[i].addEventListener('click', () => { //khi nhan click vo cai mang do thi va chay th function
            if (localStorage.getItem('name')) {
                cartNumbers(dateProduct1[i]);

                totalCost(dateProduct1[i]);
                alert("Sản phẩm đã được thêm vô giỏ");
            } else {
                alert("Mời bạn đăng nhập trước khi mua hàng");
            }

        })
    }
    onLoadCartNumbers();
    displayCart();
}

// tim sp trong trang dung cu va them vo gio
// --------------------------------------------------------------------------------------------------------------------------------------
function valueProductItem() {
    var valueSearch = document.querySelector('.search2').value
    if (valueSearch.length > 0) {
        searchProduct()
        var dateProduct1 = productItem.filter((obj) => {
            return obj.name.toUpperCase().includes(valueSearch.toUpperCase())
        })
        if (dateProduct1.length > 0) {
            render(dateProduct1)
        }
    }
    const carts = document.querySelectorAll('.addcartSearch'); //tao mang carts va luu vo no nhung co class la .addcartSearch
    console.log(carts);
    for (let i = 0; i < carts.length; i++) {
        carts[i].addEventListener('click', () => { //khi nhan click vo cai mang do thi va chay th function
            if (localStorage.getItem('name')) {
                cartNumbers(dateProduct1[i]);

                totalCost(dateProduct1[i]);
                alert("Sản phẩm đã được thêm vô giỏ");
            } else {
                alert("Mời bạn đăng nhập trước khi thêm vào giỏ")
            }

        })
    }
    onLoadCartNumbers();
    displayCart();
}
// ------------------------------------------------------------------------------------------------------------------------------------------
// tim theo gia moi trang
//trang chu
function renderPrice(arr) {
    const renderProduct = arr.map(obj => {
        return ` <div class="product">
        <div class="product_img">
            <h1>
                <a href="#"><img src="${obj.img}" class="product-image"></a>
            </h1>
            <div class="product_info">
                <span>Xem chi tiết</span>
            </div>
        </div>
        <h3 class="product-name">${obj.name}</h3>
        <div class="product-price">
            <span class="price">
               ${obj.priceNew}VNĐ
           </span>
        </div>
        <h2><button class="addcartSearchPrice">Thêm vào giỏ</button></h2>
    </div>
`
    })
}

function searchPrice() {
    const minPrice = document.getElementById('minPrice').value;
    const maxPrice = document.getElementById('maxPrice').value;
    if (minPrice.length > 0 && maxPrice.length > 0) {
        const renderProcut = productMain.map(obj => { //chay vong map,doi tuong ben trong mang productItem
            if (minPrice <= obj.priceNew && obj.priceNew <= maxPrice) {
                return `<div class="product">
                <div class="product_img">
                    <h1>
                        <a href="#"><img src="${obj.img}" class="product-image"></a>
                    </h1>
                    <div class="product_info">
                        <span>Xem chi tiết</span>
                    </div>
                </div>
                <h3 class="product-name">${obj.name}</h3>
                <div class="product-price">
                    <span class="price">
                       ${obj.priceNew}VNĐ
                   </span>
                </div>
                <h2><button class="addcartSearchPrice">Thêm vào giỏ</button></h2>
            </div>`
            }
        })
        if (document.querySelector('.showitem')) {
            document.querySelector('.showitem').innerHTML = renderProcut.join(''); //join : chuyen ve dang chuoi
        }
    } else {
        render(productMain);
    }
}


// trang nam
function searchPriceBoy() {
    const minPrice = document.getElementById('minPrice').value;
    const maxPrice = document.getElementById('maxPrice').value;
    if (minPrice.length > 0 && maxPrice.length > 0) {
        const renderProcut = products.map(obj => { //chay vong map,doi tuong ben trong mang productItem
            if (minPrice <= obj.priceNew && obj.priceNew <= maxPrice) {
                return `<div class="product">
                <div class="product_img">
                    <h1>
                        <a href="#"><img src="${obj.img}" class="product-image"></a>
                    </h1>
                    <div class="product_info">
                        <span>Xem chi tiết</span>
                    </div>
                </div>
                <h3 class="product-name">${obj.name}</h3>
                <div class="product-price">
                    <span class="price">
                       ${obj.priceNew}VNĐ
                   </span>
                </div>
                <h2><button class="addcartSearchPrice">Thêm vào giỏ</button></h2>
            </div>`
            }
        })
        if (document.querySelector('.showitem')) {
            document.querySelector('.showitem').innerHTML = renderProcut.join(''); //join : chuyen ve dang chuoi
        }
    } else {
        render(products);
    }
}
//trang nu
function searchPriceGirl() {
    const minPrice = document.getElementById('minPrice').value;
    const maxPrice = document.getElementById('maxPrice').value;
    if (minPrice.length > 0 && maxPrice.length > 0) {
        const renderProcut = productsGirl.map(obj => { //chay vong map,doi tuong ben trong mang productItem
            if (minPrice <= obj.priceNew && obj.priceNew <= maxPrice) {
                return `<div class="product">
                <div class="product_img">
                    <h1>
                        <a href="#"><img src="${obj.img}" class="product-image"></a>
                    </h1>
                    <div class="product_info">
                        <span>Xem chi tiết</span>
                    </div>
                </div>
                <h3 class="product-name">${obj.name}</h3>
                <div class="product-price">
                    <span class="price">
                       ${obj.priceNew}VNĐ
                   </span>
                </div>
                <h2><button class="addcartSearchPrice">Thêm vào giỏ</button></h2>
            </div>`
            }
        })
        if (document.querySelector('.showitem')) {
            document.querySelector('.showitem').innerHTML = renderProcut.join(''); //join : chuyen ve dang chuoi
        }
    } else {
        render(productsGirl);
    }
}
// trang dung cu
function searchPriceItem() {
    const minPrice = document.getElementById('minPrice').value;
    const maxPrice = document.getElementById('maxPrice').value;
    if (minPrice.length > 0 && maxPrice.length > 0) {
        const renderProcut = productItem.map(obj => { //chay vong map,doi tuong ben trong mang productItem
            if (minPrice <= obj.priceNew && obj.priceNew <= maxPrice) {
                return `<div class="product">
                <div class="product_img">
                    <h1>
                        <a href="#"><img src="${obj.img}" class="product-image"></a>
                    </h1>
                    <div class="product_info">
                        <span>Xem chi tiết</span>
                    </div>
                </div>
                <h3 class="product-name">${obj.name}</h3>
                <div class="product-price">
                    <span class="price">
                       ${obj.priceNew}VNĐ
                   </span>
                </div>
                <h2><button class="addcartSearchPrice">Thêm vào giỏ</button></h2>
            </div>`
            }
        })
        if (document.querySelector('.showitem')) {
            document.querySelector('.showitem').innerHTML = renderProcut.join(''); //join : chuyen ve dang chuoi
        }
    } else {
        render(productItem);
    }
}
//------------------------------------------------------------------------------------------------------------------------------------

// add - cart
const carts = document.querySelectorAll('.addcart'); //tao mang carts va luu vo no nhung co class la .addcart
for (let i = 0; i < carts.length; i++) {
    carts[i].addEventListener('click', () => { //khi nhan click vo cai mang do thi va chay th function
        if (localStorage.getItem('name')) {
            if (document.querySelector('.classGirl')) {
                cartNumbers(productsGirl[i]);

                totalCost(productsGirl[i]);

                alert("Sản phẩm đã thêm vào giỏ hàng")
            } else if (document.querySelector('.classMain')) {
                cartNumbers(productMain[i]);
                totalCost(productMain[i]);
                alert("Sản phẩm đã thêm vào giỏ hàng")

            } else if (document.querySelector('.classBoy')) {
                cartNumbers(products[i]);

                totalCost(products[i]);

                alert("Sản phẩm đã thêm vào giỏ hàng")

            } else if (document.querySelector('.classItem')) {
                cartNumbers(productItem[i]);

                totalCost(productItem[i]);

                alert("Sản phẩm đã thêm vào giỏ hàng")

            }
        } else {
            alert("Không thể thêm vào giỏ hàng khi chưa đăng nhập!!!")
        }
    })
}




//tao ham de xem co bao nhieu cai minh da them vao
function cartNumbers(product) {

    let productNumbers = localStorage.getItem('cartNumbers'); //productNumbers=localStorage(biến cục bộ) và get value của cartNumbers, lấy thứ gì từ th đó từ th cartNumbers mà lúc này nó chưa có
    productNumbers = parseInt(productNumbers);
    //neu ton tai cho gt +1 roi no tu chuyen dang:   dạng chuỗi 1 chuyển về 1rồi 1 +1=1 
    if (productNumbers) {
        localStorage.setItem('cartNumbers', productNumbers + 1);
        document.querySelector('.cart span').textContent = productNumbers + 1;
    }
    //khi click vo thi chua co j nen productNumber không tồn tại nên lần 1 nó sẽ vô th else gán cho dạng string 1
    else {
        localStorage.setItem('cartNumbers', 1); // tạo key laf cartNumbers và set cartNumbers giá trị string="1"
        document.querySelector('.cart span').textContent = 1; //lay muc (span cua class cart) tu html va truy cập nội dung của nó và set lại 
    }
    setItems(product);
}

//tao ham luu so luong sp vo 
function setItems(product) {
    let cartItems = localStorage.getItem('productsInCart'); //đặt cartItems và lấy giá trị từ 1 cái gì đó trong 1 biến cục bộ
    cartItems = JSON.parse(cartItems); //chuyển cục bộ về obj

    if (cartItems != null) {

        if (cartItems[product.id] == undefined) {
            cartItems = {
                ...cartItems,
                [product.id]: product
            }
        }
        cartItems[product.id].inCart += 1;
    } else {
        product.inCart = 1;

        cartItems = {
            [product.id]: product
        }
    }

    localStorage.setItem('productsInCart', JSON.stringify(cartItems)); //JSON.stringify nghiã là chuyển từ Obj sang Obj cục bộ
}

//tao ham de luu gia tri hien co trong gio hang de khi reset thi van giu nguyen gia tri
function onLoadCartNumbers() {
    let productNumbers = localStorage.getItem('cartNumbers'); // luc nay trong biến cục bộ storage đã có gt tồn tại rồi
    if (productNumbers) {
        document.querySelector('.cart span').textContent = productNumbers; //truy cập nội dung mục span của class cart và set giá trị hiện có của productNumbers 
    }
}


//hàm lấy tổng giá
function totalCost(product) {
    //check xem bien cuc bo da ton tai hay chua
    let cartCost = localStorage.getItem('totalCost');
    if (cartCost != null) {
        cartCost = parseInt(cartCost);
        localStorage.setItem('totalCost', product.priceNew + cartCost);
    } else {
        localStorage.setItem('totalCost', product.priceNew);
    }
}
//xuat trong gio hang
function displayCart() {
    let cartItems = localStorage.getItem('productsInCart');
    cartItems = JSON.parse(cartItems);
    let productContainer = document.querySelector('.cartProduct');
    console.log(cartItems);
    let cartCost = localStorage.getItem('totalCost');
    if (cartItems && productContainer) {
        productContainer.innerHTML = '';
        Object.values(cartItems).map(item => {
            productContainer.innerHTML += `
        <div class="cartHeader">
            <div class="titleCart1"> 
            <button class="delete">delete</button>
                   <img src="${item.img}" class="product-image">
            </div>
            <h3 class="cartname">${item.name}</h3>
            <div class="priceCart">
            <span class="price">
               ${item.priceNew}VNĐ
           </span>
            </div>
            <div class="quatityCart"><span class="lessCart"></span><button class="giam">-</button>${item.inCart}<button class="tang">+</button></div>
            <div class="totalCart">${item.inCart*item.priceNew} VNĐ</div>
             </div>
             `
        });
        productContainer.innerHTML += `
        <div class="baskettotal"><span>Tổng cộng: ${cartCost} VNĐ</span></div>
        `
    }
}

function pay() {
    alert("Thanh toán thành công, chúng tôi sẽ giao hàng cho bạn sớm nhất có thể");
}
onLoadCartNumbers();
displayCart();
// ---------------------------------------------------------------------------------------------------------------------------------
// show chi tiết sp
function information() {

}
// --------------------------------------------------------------------------------------------------------------------------------
// thêm sửa xóa số lượng trong giỏ hàng